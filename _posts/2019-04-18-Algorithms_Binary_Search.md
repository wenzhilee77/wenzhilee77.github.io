---
layout: post
title:  位运算的一种使用场景
categories: Algorithms Binary Search
tags:  Algorithms Binary Search
author: wenzhilee77
---

对于疫情最严重的武汉，它的感染比例究竟如何？这是一个大家非常关心的问题。
 
从5.14起，武汉准备在10天之内，对1000万多人发起检测。要知道，美国号称医疗检测能力世界最牛逼，80天也就做了几百万份。

# 从算法上，是否能提高核酸检测的速度呢？

在下面两个前提下：
* 可以混合检测；
* 异常样本比例低；

先来看一个金庸式化学题：有1024杯水，其中有一杯里放了十香软筋散，请问，至少要多少十香软筋散的检测试纸，才能找出，哪一杯是有问题的？
 
这不简单么，来1024张试纸，一个for循环，不就搞定了么？额，话是没错，可还有更优的方案么？
这就是一个典型的，符合“可以混合检测”（一杯水可以倒出来一部分，和其他水混合在一起），且“异常样本比例低”（只有1/1024异常）的场景。
 
将其中的一半，也就是512杯，各取1滴，组成一杯新的混合水，用一张试纸检测：
* 如果试纸变色，说明未检测的512杯是水，十香软筋散在被检测的512杯中；
* 如果试纸不变色，说明被检测的512杯是水；
不管哪种结果，都能一次检测出一半的结果。

如此往复，仅需要10张试纸，就能够检测出1024杯中哪一杯放了十香软筋散。

这，就是二进制，折半原理。
 
核酸检测也符合混合检测与低比例的特点，假设预估1%的检出率，可以同时检测100份样本，这样就能大大降低检测次数。
 

# 参考

https://mp.weixin.qq.com/s/-qAd8NEG53a4_EOOwyf-2g